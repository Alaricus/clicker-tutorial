(this["webpackJsonpclicker-tutorial"]=this["webpackJsonpclicker-tutorial"]||[]).push([[0],{10:function(t,e,c){"use strict";c.r(e);var s=c(0),a=c(1),n=c(3),i=c.n(n);c(9);const r={clicks:{amount:0},auto:{cost:10,amount:0},double:{cost:20,amount:0},mega:{cost:100,amount:0},ultra:{cost:1e3,amount:0},monster:{cost:1e4,amount:0}},o=(t,e)=>{switch(e.type){case"click":return{...t,clicks:{...t.clicks,amount:t.clicks.amount+1}};case"increase":return t[e.tier].cost<=t.clicks.amount?{...t,[e.tier]:{...t[e.tier],amount:t[e.tier].amount+1},clicks:{amount:t.clicks.amount-t[e.tier].cost}}:t;case"decrease":return t[e.tier].amount>0?{...t,[e.tier]:{...t[e.tier],amount:t[e.tier].amount-1},clicks:{amount:t.clicks.amount+t[e.tier].cost}}:t;case"update":return e.payload===t.clicks.amount?t:{...t,clicks:{...t.clicks,amount:e.payload}};default:throw new Error}};var l=({amount:t,dispatch:e})=>Object(s.jsxs)("div",{className:"clicker",children:[Object(s.jsx)("h1",{children:t}),Object(s.jsx)("button",{className:"buy",type:"button",onClick:()=>e({type:"click"}),children:"click button"})]});var u=Object(a.memo)((({tier:t,amount:e,cost:c,dispatch:a,enabled:n})=>Object(s.jsxs)("div",{className:"clicker",children:[Object(s.jsxs)("div",{className:"info",children:[Object(s.jsx)("h2",{children:`${e} \xd7 ${t}clicker`}),Object(s.jsx)("p",{children:`this ${t}clicker buys and sells for ${c}`})]}),Object(s.jsx)("button",{className:"buy "+(n?void 0:"disabled"),type:"button",onClick:()=>a({type:"increase",tier:t}),children:`buy ${t}clicker`}),e>0&&Object(s.jsx)("button",{className:"sell",type:"button",onClick:()=>a({type:"decrease",tier:t}),children:"-"})]})));var m=()=>{const[t,e]=Object(a.useReducer)(o,r),c=Object(a.useRef)();return Object(a.useEffect)((()=>{c.current=()=>{const c=t.clicks.amount,s=Object.keys(t).reduce(((e,c,s)=>0===s?e:e+t[c].amount*(.1*t[c].cost)),c);e({type:"update",payload:s})}}),[t]),Object(a.useEffect)((()=>{const t=setInterval((()=>c.current()),1e3);return()=>clearInterval(t)}),[c]),Object(s.jsxs)("div",{className:"game",children:[Object(s.jsxs)("div",{className:"banner",children:["This is an accompanying example to a clicker game tutorial using React. See",Object(s.jsx)("a",{href:"https://github.com/Alaricus/clicker-tutorial",children:"GitHub"}),"for more details."]}),Object(s.jsx)(l,{amount:t.clicks.amount,dispatch:e}),Object.keys(t).map(((c,a)=>{if(0===a)return null;const{cost:n,amount:i}=t[c];return(t.clicks.amount>=n||i>0)&&Object(s.jsx)(u,{tier:c,amount:i,cost:n,enabled:t.clicks.amount>=n,dispatch:e},c)}))]})};i.a.render(Object(s.jsx)(m,{}),document.getElementById("root"))},9:function(t,e,c){}},[[10,1,2]]]);
//# sourceMappingURL=main.945dc260.chunk.js.map